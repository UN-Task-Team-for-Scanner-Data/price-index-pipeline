schema: '2.0'
stages:
  process-prices:
    cmd: Rscript R/process-prices.R
    deps:
    - path: R/process-prices.R
      hash: md5
      md5: 3d703407b934be27b1f094ebb8b18bb4
      size: 352
    - path: data/raw-survey-prices.parquet
      hash: md5
      md5: ed44b2b6332a281eb3d7d8ece7bf6dff
      size: 9884545
    outs:
    - path: data/survey-prices.parquet
      hash: md5
      md5: 35e7eea8ea01df11f963b93cbc3f6315
      size: 8253645
  make-geks:
    cmd: Rscript R/make-geks.R
    deps:
    - path: R/make-geks.R
      hash: md5
      md5: 2278fe57d6fb276b1b500f0cb7ac609f
      size: 372
    - path: data/scanner-prices.parquet
      hash: md5
      md5: 8297f15312823a593c63a78b6fe0a217
      size: 72674124
    outs:
    - path: data/geks.parquet
      hash: md5
      md5: da8c1d636fe3b4c51c409fdacb907562
      size: 2023
  make-index:
    cmd: Rscript R/make-index.R
    deps:
    - path: R/make-index.R
      hash: md5
      md5: fa950fb0f375d12b0f6e3d2cfdd2bcac
      size: 621
    - path: data/geks.parquet
      hash: md5
      md5: da8c1d636fe3b4c51c409fdacb907562
      size: 2023
    - path: data/survey-prices.parquet
      hash: md5
      md5: 35e7eea8ea01df11f963b93cbc3f6315
      size: 8253645
    - path: data/weights.parquet
      hash: md5
      md5: 63fa9ca043fcbb7a38f34d652f02b405
      size: 12802
    outs:
    - path: output/contributions.parquet
      hash: md5
      md5: e5f6b98098d672f275ef9d574602b19f
      size: 24204649
    - path: output/index.parquet
      hash: md5
      md5: aa663cbefbd9cd5b882508cf44ab359f
      size: 727503
